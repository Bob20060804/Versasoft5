using Ersa.Platform.Infrastructure.Prism;
using Ersa.Platform.Lokalisierung.Interfaces;
using System;
using System.Collections.Generic;
using System.Globalization;
using System.Windows.Data;

namespace Ersa.Platform.UI.Converters
{
	[ValueConversion(typeof(int), typeof(string))]
	public class EDC_IntegerToCanMotorFehlerStringConverter : IValueConverter
	{
		private static Dictionary<int, string> m_dicKeys = new Dictionary<int, string>
		{
			{
				1,
				string.Empty
			},
			{
				0,
				"10_100"
			},
			{
				-10,
				"13_576"
			},
			{
				-11,
				"13_577"
			},
			{
				-15,
				"13_578"
			},
			{
				-16,
				"13_579"
			},
			{
				-100,
				"11_1485"
			},
			{
				-101,
				"11_1486"
			},
			{
				-102,
				"11_1487"
			},
			{
				-103,
				"11_1488"
			},
			{
				-104,
				"11_1489"
			},
			{
				-105,
				"11_1490"
			},
			{
				-106,
				"11_1491"
			},
			{
				-107,
				"11_1492"
			},
			{
				-108,
				"11_1493"
			},
			{
				-109,
				"11_1494"
			},
			{
				-201,
				"11_1495"
			},
			{
				-202,
				"11_1496"
			},
			{
				-203,
				"11_1497"
			},
			{
				-204,
				"11_1498"
			},
			{
				-205,
				"11_1499"
			},
			{
				-206,
				"11_1500"
			},
			{
				-207,
				"11_1501"
			},
			{
				-208,
				"11_1502"
			},
			{
				-250,
				"10_101"
			},
			{
				-251,
				"10_102"
			},
			{
				-252,
				"10_103"
			},
			{
				-253,
				"10_104"
			},
			{
				-260,
				"10_105"
			},
			{
				-261,
				"10_106"
			},
			{
				-262,
				"10_107"
			},
			{
				-300,
				"10_108"
			},
			{
				-301,
				"10_109"
			},
			{
				-302,
				"10_110"
			},
			{
				-306,
				"10_111"
			},
			{
				-307,
				"10_112"
			},
			{
				-308,
				"10_113"
			},
			{
				-315,
				"11_1503"
			},
			{
				-316,
				"10_114"
			},
			{
				-318,
				"10_115"
			},
			{
				-322,
				"10_116"
			},
			{
				-325,
				"10_117"
			},
			{
				-340,
				"10_118"
			},
			{
				-343,
				"10_119"
			},
			{
				-344,
				"11_1504"
			},
			{
				-345,
				"11_1505"
			},
			{
				-350,
				"10_120"
			},
			{
				-351,
				"10_121"
			},
			{
				-500,
				"18_115"
			},
			{
				-501,
				"4_1003"
			},
			{
				-511,
				"18_116"
			},
			{
				-512,
				"18_117"
			},
			{
				-513,
				"18_118"
			},
			{
				-514,
				"18_119"
			},
			{
				-516,
				"18_120"
			},
			{
				-521,
				"18_121"
			},
			{
				-601,
				"18_122"
			},
			{
				-609,
				"18_123"
			},
			{
				-710,
				"18_124"
			},
			{
				-711,
				"13_577"
			},
			{
				-715,
				"13_578"
			},
			{
				-716,
				"13_579"
			},
			{
				-717,
				"18_125"
			},
			{
				-730,
				"18_126"
			},
			{
				-1000,
				"10_122"
			},
			{
				-1001,
				"10_123"
			},
			{
				-1002,
				"10_124"
			},
			{
				-1003,
				"10_125"
			},
			{
				-1020,
				"10_126"
			},
			{
				-1021,
				"10_127"
			},
			{
				-1060,
				"10_128"
			},
			{
				-1061,
				"10_129"
			},
			{
				-1078,
				"11_1515"
			},
			{
				-1080,
				"18_127"
			},
			{
				-3010,
				"11_1516"
			},
			{
				-4000,
				"4_3310"
			},
			{
				-4001,
				"11_1517"
			},
			{
				-4005,
				"11_1518"
			},
			{
				-5100,
				"10_131"
			},
			{
				-6000,
				"11_1519"
			},
			{
				-6001,
				"11_1520"
			},
			{
				-6002,
				"11_1521"
			},
			{
				-6003,
				"11_1522"
			},
			{
				-6020,
				"11_1523"
			},
			{
				-6021,
				"11_1524"
			},
			{
				-6030,
				"11_1525"
			},
			{
				-6031,
				"11_1526"
			},
			{
				-6040,
				"11_1527"
			},
			{
				-6041,
				"11_1528"
			},
			{
				-6050,
				"11_1529"
			},
			{
				-6051,
				"11_1530"
			},
			{
				-6052,
				"11_1531"
			},
			{
				-6053,
				"11_1532"
			},
			{
				-6054,
				"11_1533"
			},
			{
				-30000,
				"11_1535"
			},
			{
				-30001,
				"11_1536"
			},
			{
				-30002,
				"11_1537"
			},
			{
				-30003,
				"11_1538"
			},
			{
				-30010,
				"11_1539"
			},
			{
				-30030,
				"11_1540"
			},
			{
				-30031,
				"11_1541"
			},
			{
				-31001,
				"11_1542"
			},
			{
				-31002,
				"11_1543"
			},
			{
				-31003,
				"11_1544"
			},
			{
				-31004,
				"11_1545"
			},
			{
				-31010,
				"11_1546"
			},
			{
				-31011,
				"11_1547"
			},
			{
				-31020,
				"11_1548"
			},
			{
				-31030,
				"18_128"
			},
			{
				1000,
				"10_321"
			},
			{
				2211,
				"10_1100"
			},
			{
				2221,
				"10_322"
			},
			{
				2222,
				"10_323"
			},
			{
				3110,
				"11_1317"
			},
			{
				3120,
				"11_1318"
			},
			{
				3210,
				"10_149"
			},
			{
				3220,
				"10_151"
			},
			{
				3221,
				"10_328"
			},
			{
				4210,
				"10_329"
			},
			{
				4310,
				"10_330"
			},
			{
				4311,
				"11_1335"
			},
			{
				5000,
				"18_129"
			},
			{
				5110,
				"10_332"
			},
			{
				5111,
				"10_1102"
			},
			{
				5510,
				"10_333"
			},
			{
				5520,
				"10_334"
			},
			{
				5530,
				"10_335"
			},
			{
				6000,
				"10_336"
			},
			{
				6010,
				"10_337"
			},
			{
				6200,
				"10_1103"
			},
			{
				6310,
				"10_338"
			},
			{
				7120,
				"10_339"
			},
			{
				7121,
				"10_340"
			},
			{
				7122,
				"10_341"
			},
			{
				8110,
				"10_1104"
			},
			{
				8210,
				"10_1105"
			},
			{
				8312,
				"10_1106"
			},
			{
				8611,
				"10_342"
			},
			{
				7700,
				"10_343"
			},
			{
				7701,
				"10_344"
			},
			{
				7702,
				"10_345"
			},
			{
				7708,
				"10_346"
			},
			{
				7710,
				"10_347"
			},
			{
				7711,
				"10_348"
			},
			{
				7712,
				"10_349"
			},
			{
				7713,
				"10_350"
			},
			{
				7714,
				"10_351"
			},
			{
				7715,
				"10_352"
			},
			{
				7716,
				"10_353"
			},
			{
				7717,
				"10_354"
			},
			{
				7718,
				"10_355"
			},
			{
				7719,
				"10_356"
			},
			{
				7720,
				"10_359"
			},
			{
				7721,
				"10_360"
			},
			{
				7722,
				"10_361"
			},
			{
				7723,
				"10_362"
			},
			{
				7724,
				"10_363"
			},
			{
				7725,
				"10_364"
			},
			{
				7726,
				"10_365"
			},
			{
				7727,
				"10_366"
			},
			{
				7728,
				"10_367"
			},
			{
				7729,
				"10_368"
			},
			{
				7730,
				"10_357"
			},
			{
				7731,
				"10_358"
			}
		};

		private INF_LokalisierungsDienst m_edcLokalisierungsDienst;

		public object Convert(object i_objValue, Type i_objTargetType, object i_objParameter, CultureInfo i_objCultureInfo)
		{
			string arg = null;
			int? num = i_objValue as int?;
			if (!num.HasValue)
			{
				return "NULL";
			}
			string i_strKey = FUN_strSprachKey(num.Value);
			if (m_edcLokalisierungsDienst == null)
			{
				m_edcLokalisierungsDienst = EDC_ServiceLocator.PRO_edcInstanz.FUN_objObjektSicherAusContainerHolen<INF_LokalisierungsDienst>();
			}
			if (m_edcLokalisierungsDienst != null)
			{
				arg = m_edcLokalisierungsDienst.FUN_strText(i_strKey);
			}
			return $"{arg} ({num.Value})";
		}

		public object ConvertBack(object i_objValue, Type i_objTargetType, object i_objParameter, CultureInfo i_objCultureInfo)
		{
			throw new NotImplementedException();
		}

		private string FUN_strSprachKey(int i_i32FehlerWert)
		{
			if (m_dicKeys.TryGetValue(i_i32FehlerWert, out string value))
			{
				return value;
			}
			return "10_458";
		}
	}
}
